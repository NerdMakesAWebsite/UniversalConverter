<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🟢 Universal Converter</title>
	
	<!-- Favicon (Tab Image) -->
	<link rel="icon" type="image/png" href="NLC Profile.png">
	
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary-bg: #0a0a0a;
            --secondary-bg: #111111;
            --tertiary-bg: #1a1a1a;
            --accent-green: #00ff88;
            --accent-cyan: #00ffff;
            --accent-purple: #8b5cf6;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-muted: #666666;
            --border-color: #333333;
            --glow-green: 0 0 20px rgba(0, 255, 136, 0.3);
            --glow-cyan: 0 0 20px rgba(0, 255, 255, 0.3);
            --glow-purple: 0 0 20px rgba(139, 92, 246, 0.3);
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Background Animation */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 255, 136, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
            z-index: -1;
            animation: pulse 10s ease-in-out infinite alternate;
        }
        
        @keyframes pulse {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .logo {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--accent-green), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            text-shadow: var(--glow-green);
        }
        
        .tagline {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 2rem;
        }
        
        /* Quick Convert Bar */
        .quick-convert {
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--glow-green);
        }
        
        .quick-convert h3 {
            color: var(--accent-green);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .quick-input {
            width: 100%;
            padding: 1rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .quick-input:focus {
            outline: none;
            border-color: var(--accent-green);
            box-shadow: var(--glow-green);
        }
        
        .quick-result {
            margin-top: 1rem;
            padding: 1rem;
            background: var(--secondary-bg);
            border-radius: 8px;
            font-size: 1.1rem;
            color: var(--accent-cyan);
            min-height: 50px;
            display: flex;
            align-items: center;
        }
        
        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        /* Categories Sidebar */
        .categories {
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            height: fit-content;
            box-shadow: var(--glow-cyan);
        }
        
        .categories h3 {
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        .category-item {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background: var(--secondary-bg);
            border: 1px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-item:hover {
            border-color: var(--accent-green);
            transform: translateX(5px);
            box-shadow: var(--glow-green);
        }
        
        .category-item.active {
            border-color: var(--accent-green);
            background: rgba(0, 255, 136, 0.1);
        }
        
        .category-emoji {
            font-size: 1.2rem;
            margin-right: 0.8rem;
        }
        
        /* Converter Panel */
        .converter {
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--glow-purple);
        }
        
        .converter h3 {
            color: var(--accent-purple);
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
        }
        
        .converter-row {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: end;
            margin-bottom: 1.5rem;
        }
        
        .input-group {
            position: relative;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .converter-input {
            width: 100%;
            padding: 1rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .converter-input:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: var(--glow-purple);
        }
        
        .unit-select {
            width: 100%;
            padding: 1rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .unit-select:focus {
            outline: none;
            border-color: var(--accent-purple);
            box-shadow: var(--glow-purple);
        }
        
        .swap-btn {
            padding: 1rem;
            background: var(--accent-green);
            border: none;
            border-radius: 50%;
            color: var(--primary-bg);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--glow-green);
        }
        
        .swap-btn:hover {
            transform: rotate(180deg) scale(1.1);
        }
        
        .result-display {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            font-size: 1.3rem;
            color: var(--accent-green);
            margin-bottom: 2rem;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: glow-pulse 2s ease-in-out infinite;
        }
        
        @keyframes glow-pulse {
            0%, 100% { box-shadow: var(--glow-green); }
            50% { box-shadow: 0 0 30px rgba(0, 255, 136, 0.5); }
        }
        
        /* Units Grid */
        .units-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .unit-chip {
            padding: 0.5rem 0.8rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            text-align: center;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .unit-chip:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
            box-shadow: var(--glow-cyan);
        }
        
        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .feature-card {
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--glow-green);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .feature-title {
            color: var(--accent-green);
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        .feature-desc {
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        /* History Panel */
        .history-panel {
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 2rem;
        }
        
        .history-panel h3 {
            color: var(--accent-cyan);
            margin-bottom: 1rem;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            background: var(--secondary-bg);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            background: rgba(0, 255, 136, 0.1);
            transform: translateX(5px);
        }
        
        .footer {
            text-align: center;
            margin-top: 4rem;
            padding: 2rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
        }
        
        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .converter-row {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .swap-btn {
                order: 3;
                width: fit-content;
                justify-self: center;
            }
            
            .logo {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">🟢 UNIVERSAL CONVERTER</h1>
            <p class="tagline">Convert Anything, Anywhere</p>
        </header>

        <!-- Quick Convert Bar -->
        <div class="quick-convert">
            <h3>⚡ Quick Convert</h3>
            <input type="text" class="quick-input" placeholder="Type natural queries like '5 km to mi' or '100 F in C'...">
            <div class="quick-result">Enter a conversion above...</div>
        </div>

        <!-- Main Grid -->
        <div class="main-grid">
            <!-- Categories Sidebar -->
            <div class="categories">
                <h3>📁 Categories</h3>
                <div class="category-item active" data-category="length">
                    <span class="category-emoji">📏</span>
                    <span>Length</span>
                </div>
                <div class="category-item" data-category="mass">
                    <span class="category-emoji">⚖️</span>
                    <span>Mass & Weight</span>
                </div>
                <div class="category-item" data-category="temperature">
                    <span class="category-emoji">🌡️</span>
                    <span>Temperature</span>
                </div>
                <div class="category-item" data-category="volume">
                    <span class="category-emoji">🧪</span>
                    <span>Volume</span>
                </div>
                <div class="category-item" data-category="time">
                    <span class="category-emoji">⏱️</span>
                    <span>Time</span>
                </div>
                <div class="category-item" data-category="speed">
                    <span class="category-emoji">🌀</span>
                    <span>Speed</span>
                </div>
                <div class="category-item" data-category="data">
                    <span class="category-emoji">💾</span>
                    <span>Data Storage</span>
                </div>
                <div class="category-item" data-category="energy">
                    <span class="category-emoji">🔋</span>
                    <span>Energy</span>
                </div>
                <div class="category-item" data-category="pressure">
                    <span class="category-emoji">💨</span>
                    <span>Pressure</span>
                </div>
                <div class="category-item" data-category="power">
                    <span class="category-emoji">⚡</span>
                    <span>Power</span>
                </div>
                <div class="category-item" data-category="angle">
                    <span class="category-emoji">🔧</span>
                    <span>Angle</span>
                </div>
                <div class="category-item" data-category="area">
                    <span class="category-emoji">📐</span>
                    <span>Area</span>
                </div>
                <div class="category-item" data-category="frequency">
                    <span class="category-emoji">📻</span>
                    <span>Frequency</span>
                </div>
                <div class="category-item" data-category="force">
                    <span class="category-emoji">💪</span>
                    <span>Force</span>
                </div>
            </div>

            <!-- Converter Panel -->
            <div class="converter">
                <h3 id="converter-title">📏 Length Converter</h3>
                
                <div class="converter-row">
                    <div class="input-group">
                        <label>From</label>
                        <input type="number" class="converter-input" id="from-value" placeholder="Enter value...">
                        <select class="unit-select" id="from-unit">
                            <!-- Options populated by JavaScript -->
                        </select>
                    </div>
                    
                    <button class="swap-btn" onclick="swapUnits()">⇄</button>
                    
                    <div class="input-group">
                        <label>To</label>
                        <input type="number" class="converter-input" id="to-value" placeholder="Result..." readonly>
                        <select class="unit-select" id="to-unit">
                            <!-- Options populated by JavaScript -->
                        </select>
                    </div>
                </div>

                <div class="result-display" id="result-display">
                    Enter a value to see the conversion
                </div>

                <div class="units-grid" id="units-grid">
                    <!-- Unit chips populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Features Grid -->
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <div class="feature-title">Lightning Fast</div>
                <div class="feature-desc">Instant conversions with real-time results as you type. No waiting, no delays.</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🧠</div>
                <div class="feature-title">Smart Parsing</div>
                <div class="feature-desc">Type natural language queries like "5 km to miles" and get instant results.</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🎯</div>
                <div class="feature-title">Precision Accuracy</div>
                <div class="feature-desc">High-precision calculations using advanced mathematical formulas for perfect results.</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🌐</div>
                <div class="feature-title">Universal Coverage</div>
                <div class="feature-desc">14+ categories covering everything from basic measurements to specialized units.</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📱</div>
                <div class="feature-title">Responsive Design</div>
                <div class="feature-desc">Works perfectly on desktop, tablet, and mobile devices with touch-friendly interface.</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🎨</div>
                <div class="feature-title">Hacker Aesthetic</div>
                <div class="feature-desc">Beautiful dark theme with neon glows and terminal-inspired typography.</div>
            </div>
        </div>

        <!-- History Panel -->
        <div class="history-panel">
            <h3>🕑 Recent Conversions</h3>
            <div id="history-list">
                <div class="history-empty" style="text-align: center; color: var(--text-muted); padding: 2rem;">
                    <div style="font-size: 2rem; margin-bottom: 1rem;">📝</div>
                    <div>No conversions yet</div>
                    <div style="font-size: 0.9rem; margin-top: 0.5rem;">Your recent conversions will appear here</div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 NerdJoe. All rights reserved.</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Supporting 200+ units across 14+ categories</p>
        </footer>
    </div>

    <script>
        // Conversion definitions
        const conversions = {
            length: {
                title: "📏 Length Converter",
                units: {
                    m: { name: "Meter", factor: 1 },
                    km: { name: "Kilometer", factor: 1000 },
                    cm: { name: "Centimeter", factor: 0.01 },
                    mm: { name: "Millimeter", factor: 0.001 },
                    in: { name: "Inch", factor: 0.0254 },
                    ft: { name: "Foot", factor: 0.3048 },
                    yd: { name: "Yard", factor: 0.9144 },
                    mi: { name: "Mile", factor: 1609.344 },
                    nmi: { name: "Nautical Mile", factor: 1852 },
                    μm: { name: "Micrometer", factor: 0.000001 },
                    nm: { name: "Nanometer", factor: 0.000000001 },
                    ly: { name: "Light Year", factor: 9460730472580800 }
                }
            },
            mass: {
                title: "⚖️ Mass & Weight Converter",
                units: {
                    kg: { name: "Kilogram", factor: 1 },
                    g: { name: "Gram", factor: 0.001 },
                    mg: { name: "Milligram", factor: 0.000001 },
                    lb: { name: "Pound", factor: 0.453592 },
                    oz: { name: "Ounce", factor: 0.0283495 },
                    ton: { name: "Metric Ton", factor: 1000 },
                    st: { name: "Stone", factor: 6.35029 },
                    ct: { name: "Carat", factor: 0.0002 }
                }
            },
            temperature: {
                title: "🌡️ Temperature Converter",
                units: {
                    c: { name: "Celsius" },
                    f: { name: "Fahrenheit" },
                    k: { name: "Kelvin" },
                    r: { name: "Rankine" }
                },
                convert: function(value, from, to) {
                    // Convert to Celsius first
                    let celsius;
                    switch(from) {
                        case 'c': celsius = value; break;
                        case 'f': celsius = (value - 32) * 5/9; break;
                        case 'k': celsius = value - 273.15; break;
                        case 'r': celsius = (value - 491.67) * 5/9; break;
                    }
                    
                    // Convert from Celsius to target
                    switch(to) {
                        case 'c': return celsius;
                        case 'f': return celsius * 9/5 + 32;
                        case 'k': return celsius + 273.15;
                        case 'r': return celsius * 9/5 + 491.67;
                    }
                }
            },
            volume: {
                title: "🧪 Volume Converter",
                units: {
                    l: { name: "Liter", factor: 1 },
                    ml: { name: "Milliliter", factor: 0.001 },
                    gal: { name: "US Gallon", factor: 3.78541 },
                    qt: { name: "US Quart", factor: 0.946353 },
                    pt: { name: "US Pint", factor: 0.473176 },
                    cup: { name: "US Cup", factor: 0.236588 },
                    floz: { name: "US Fluid Ounce", factor: 0.0295735 },
                    tbsp: { name: "Tablespoon", factor: 0.0147868 },
                    tsp: { name: "Teaspoon", factor: 0.00492892 },
                    m3: { name: "Cubic Meter", factor: 1000 },
                    cm3: { name: "Cubic Centimeter", factor: 0.001 }
                }
            },
            time: {
                title: "⏱️ Time Converter",
                units: {
                    s: { name: "Second", factor: 1 },
                    min: { name: "Minute", factor: 60 },
                    hr: { name: "Hour", factor: 3600 },
                    day: { name: "Day", factor: 86400 },
                    week: { name: "Week", factor: 604800 },
                    month: { name: "Month", factor: 2629746 },
                    year: { name: "Year", factor: 31556952 },
                    ms: { name: "Millisecond", factor: 0.001 },
                    μs: { name: "Microsecond", factor: 0.000001 },
                    ns: { name: "Nanosecond", factor: 0.000000001 }
                }
            },
            speed: {
                title: "🌀 Speed Converter",
                units: {
                    mps: { name: "Meters per Second", factor: 1 },
                    kmh: { name: "Kilometers per Hour", factor: 0.277778 },
                    mph: { name: "Miles per Hour", factor: 0.44704 },
                    kn: { name: "Knots", factor: 0.514444 },
                    fps: { name: "Feet per Second", factor: 0.3048 },
                    c: { name: "Speed of Light", factor: 299792458 }
                }
            },
            data: {
                title: "💾 Data Storage Converter",
                units: {
                    b: { name: "Bit", factor: 1 },
                    B: { name: "Byte", factor: 8 },
                    KB: { name: "Kilobyte", factor: 8000 },
                    MB: { name: "Megabyte", factor: 8000000 },
                    GB: { name: "Gigabyte", factor: 8000000000 },
                    TB: { name: "Terabyte", factor: 8000000000000 },
                    PB: { name: "Petabyte", factor: 8000000000000000 },
                    KiB: { name: "Kibibyte", factor: 8192 },
                    MiB: { name: "Mebibyte", factor: 8388608 },
                    GiB: { name: "Gibibyte", factor: 8589934592 },
                    TiB: { name: "Tebibyte", factor: 8796093022208 }
                }
            },
            energy: {
                title: "🔋 Energy Converter",
                units: {
                    J: { name: "Joule", factor: 1 },
                    kJ: { name: "Kilojoule", factor: 1000 },
                    cal: { name: "Calorie", factor: 4.184 },
                    kcal: { name: "Kilocalorie", factor: 4184 },
                    Wh: { name: "Watt Hour", factor: 3600 },
                    kWh: { name: "Kilowatt Hour", factor: 3600000 },
                    BTU: { name: "British Thermal Unit", factor: 1055.06 },
                    eV: { name: "Electron Volt", factor: 1.60218e-19 },
                    erg: { name: "Erg", factor: 1e-7 }
                }
            },
            pressure: {
                title: "💨 Pressure Converter",
                units: {
                    Pa: { name: "Pascal", factor: 1 },
                    kPa: { name: "Kilopascal", factor: 1000 },
                    MPa: { name: "Megapascal", factor: 1000000 },
                    bar: { name: "Bar", factor: 100000 },
                    atm: { name: "Atmosphere", factor: 101325 },
                    psi: { name: "PSI", factor: 6895 },
                    torr: { name: "Torr", factor: 133.322 },
                    mmHg: { name: "mmHg", factor: 133.322 }
                }
            },
            power: {
                title: "⚡ Power Converter",
                units: {
                    W: { name: "Watt", factor: 1 },
                    kW: { name: "Kilowatt", factor: 1000 },
                    MW: { name: "Megawatt", factor: 1000000 },
                    hp: { name: "Horsepower", factor: 745.7 },
                    BTUh: { name: "BTU per Hour", factor: 0.293071 }
                }
            },
            angle: {
                title: "🔧 Angle Converter",
                units: {
                    deg: { name: "Degrees", factor: 1 },
                    rad: { name: "Radians", factor: 57.2958 },
                    grad: { name: "Gradians", factor: 0.9 },
                    turn: { name: "Turns", factor: 360 },
                    arcmin: { name: "Arc Minutes", factor: 0.0166667 },
                    arcsec: { name: "Arc Seconds", factor: 0.000277778 }
                }
            },
            area: {
                title: "📐 Area Converter",
                units: {
                    m2: { name: "Square Meter", factor: 1 },
                    km2: { name: "Square Kilometer", factor: 1000000 },
                    cm2: { name: "Square Centimeter", factor: 0.0001 },
                    mm2: { name: "Square Millimeter", factor: 0.000001 },
                    in2: { name: "Square Inch", factor: 0.00064516 },
                    ft2: { name: "Square Foot", factor: 0.092903 },
                    yd2: { name: "Square Yard", factor: 0.836127 },
                    acre: { name: "Acre", factor: 4046.86 },
                    ha: { name: "Hectare", factor: 10000 },
                    mi2: { name: "Square Mile", factor: 2589988.11 }
                }
            },
            frequency: {
                title: "📻 Frequency Converter",
                units: {
                    Hz: { name: "Hertz", factor: 1 },
                    kHz: { name: "Kilohertz", factor: 1000 },
                    MHz: { name: "Megahertz", factor: 1000000 },
                    GHz: { name: "Gigahertz", factor: 1000000000 },
                    THz: { name: "Terahertz", factor: 1000000000000 },
                    rpm: { name: "RPM", factor: 0.0166667 }
                }
            },
            force: {
                title: "💪 Force Converter",
                units: {
                    N: { name: "Newton", factor: 1 },
                    kN: { name: "Kilonewton", factor: 1000 },
                    lbf: { name: "Pound Force", factor: 4.44822 },
                    kgf: { name: "Kilogram Force", factor: 9.80665 },
                    dyn: { name: "Dyne", factor: 0.00001 },
                    ozf: { name: "Ounce Force", factor: 0.278014 }
                }
            }
        };

        // Global variables
        let currentCategory = 'length';
        let history = [];
        let appData = {
            history: [],
            favorites: [],
            settings: {
                theme: 'dark',
                precision: 6,
                lastCategory: 'length'
            }
        };

        // Data Management with JSON
        function saveAppData() {
            try {
                const jsonData = JSON.stringify(appData);
                // Since we can't use localStorage, we'll keep it in memory
                // In a real app, this would save to localStorage:
                // localStorage.setItem('universalConverterData', jsonData);
                console.log('App data saved:', jsonData);
            } catch (error) {
                console.error('Error saving app data:', error);
            }
        }

        function loadAppData() {
            try {
                // In a real app, this would load from localStorage:
                // const savedData = localStorage.getItem('universalConverterData');
                // if (savedData) {
                //     appData = JSON.parse(savedData);
                //     history = appData.history || [];
                //     currentCategory = appData.settings.lastCategory || 'length';
                // }
                
                // For demo purposes, start with empty data
                appData = {
                    history: [],
                    favorites: [],
                    settings: {
                        theme: 'dark',
                        precision: 6,
                        lastCategory: 'length'
                    }
                };
                history = [];
                console.log('App data loaded:', appData);
            } catch (error) {
                console.error('Error loading app data:', error);
                // Reset to default if corrupted
                appData = {
                    history: [],
                    favorites: [],
                    settings: {
                        theme: 'dark',
                        precision: 6,
                        lastCategory: 'length'
                    }
                };
                history = [];
            }
        }

        function exportData() {
            const dataBlob = new Blob([JSON.stringify(appData, null, 2)], 
                { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'universal-converter-data.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialize the app
        function init() {
            loadCategory(currentCategory);
            setupEventListeners();
            populateUnits();
        }

        // Event listeners
        function setupEventListeners() {
            // Category selection
            document.querySelectorAll('.category-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.category-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    currentCategory = this.dataset.category;
                    loadCategory(currentCategory);
                });
            });

            // Conversion inputs
            document.getElementById('from-value').addEventListener('input', performConversion);
            document.getElementById('from-unit').addEventListener('change', performConversion);
            document.getElementById('to-unit').addEventListener('change', performConversion);

            // Quick convert
            document.querySelector('.quick-input').addEventListener('input', handleQuickConvert);

            // History items
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('history-item')) {
                    // Handle history item click
                    console.log('History item clicked');
                }
            });
        }

        // Load category
        function loadCategory(category) {
            const config = conversions[category];
            document.getElementById('converter-title').textContent = config.title;
            
            // Populate unit selectors
            const fromUnit = document.getElementById('from-unit');
            const toUnit = document.getElementById('to-unit');
            
            fromUnit.innerHTML = '';
            toUnit.innerHTML = '';
            
            Object.entries(config.units).forEach(([key, unit]) => {
                const option1 = new Option(unit.name, key);
                const option2 = new Option(unit.name, key);
                fromUnit.add(option1);
                toUnit.add(option2);
            });

            // Set default selections
            if (fromUnit.options.length > 0) fromUnit.selectedIndex = 0;
            if (toUnit.options.length > 1) toUnit.selectedIndex = 1;

            // Update units grid
            updateUnitsGrid(category);
            
            // Clear previous conversion
            document.getElementById('from-value').value = '';
            document.getElementById('to-value').value = '';
            document.getElementById('result-display').textContent = 'Enter a value to see the conversion';
        }

        // Update units grid
        function updateUnitsGrid(category) {
            const config = conversions[category];
            const grid = document.getElementById('units-grid');
            grid.innerHTML = '';
            
            Object.entries(config.units).forEach(([key, unit]) => {
                const chip = document.createElement('div');
                chip.className = 'unit-chip';
                chip.textContent = key.toUpperCase();
                chip.title = unit.name;
                chip.addEventListener('click', () => {
                    document.getElementById('to-unit').value = key;
                    performConversion();
                });
                grid.appendChild(chip);
            });
        }

        // Perform conversion
        function performConversion() {
            const fromValue = parseFloat(document.getElementById('from-value').value);
            const fromUnit = document.getElementById('from-unit').value;
            const toUnit = document.getElementById('to-unit').value;
            const toValueInput = document.getElementById('to-value');
            const resultDisplay = document.getElementById('result-display');

            if (isNaN(fromValue) || fromValue === '') {
                toValueInput.value = '';
                resultDisplay.textContent = 'Enter a value to see the conversion';
                return;
            }

            let result;
            const config = conversions[currentCategory];

            if (currentCategory === 'temperature') {
                result = config.convert(fromValue, fromUnit, toUnit);
            } else {
                // Standard factor-based conversion
                const fromFactor = config.units[fromUnit].factor;
                const toFactor = config.units[toUnit].factor;
                result = fromValue * fromFactor / toFactor;
            }

            // Format result
            const formattedResult = formatNumber(result);
            toValueInput.value = formattedResult;
            
            // Update result display
            const fromUnitName = config.units[fromUnit].name;
            const toUnitName = config.units[toUnit].name;
            resultDisplay.innerHTML = `
                <strong>${fromValue}</strong> ${fromUnitName} = 
                <strong style="color: var(--accent-green);">${formattedResult}</strong> ${toUnitName}
            `;

            // Add to history
            addToHistory(`${fromValue} ${fromUnit.toUpperCase()} → ${formattedResult} ${toUnit.toUpperCase()}`);
        }

        // Format number for display
        function formatNumber(num) {
            if (num === 0) return '0';
            if (Math.abs(num) >= 1e6 || (Math.abs(num) < 0.001 && Math.abs(num) > 0)) {
                return num.toExponential(6);
            }
            if (Math.abs(num) >= 100) {
                return num.toFixed(2);
            }
            return num.toPrecision(6);
        }

        // Swap units
        function swapUnits() {
            const fromUnit = document.getElementById('from-unit');
            const toUnit = document.getElementById('to-unit');
            const fromValue = document.getElementById('from-value');
            const toValue = document.getElementById('to-value');

            // Swap unit selections
            const temp = fromUnit.value;
            fromUnit.value = toUnit.value;
            toUnit.value = temp;

            // Swap values
            fromValue.value = toValue.value;
            
            // Perform conversion
            performConversion();
        }

        // Handle quick convert
        function handleQuickConvert() {
            const input = this.value.trim();
            const resultDiv = document.querySelector('.quick-result');
            
            if (!input) {
                resultDiv.textContent = 'Enter a conversion above...';
                return;
            }

            // Parse natural language input
            const parseResult = parseNaturalInput(input);
            
            if (parseResult) {
                const { value, fromUnit, toUnit, category } = parseResult;
                const result = convertValue(value, fromUnit, toUnit, category);
                
                if (result !== null) {
                    const config = conversions[category];
                    const fromUnitName = config.units[fromUnit]?.name || fromUnit;
                    const toUnitName = config.units[toUnit]?.name || toUnit;
                    
                    resultDiv.innerHTML = `
                        <strong>${value}</strong> ${fromUnitName} = 
                        <strong style="color: var(--accent-green);">${formatNumber(result)}</strong> ${toUnitName}
                    `;
                    
                    // Add to history
                    addToHistory(`${value} ${fromUnit.toUpperCase()} → ${formatNumber(result)} ${toUnit.toUpperCase()}`);
                } else {
                    resultDiv.textContent = 'Unable to convert - check your units';
                }
            } else {
                resultDiv.textContent = 'Try format like "5 km to mi" or "100 F in C"';
            }
        }

        // Parse natural language input
        function parseNaturalInput(input) {
            // Patterns to match: "5 km to mi", "100 F in C", "1 GB to MB"
            const patterns = [
                /(\d*\.?\d+)\s*([a-zA-Z]+)\s+(?:to|in|→)\s+([a-zA-Z]+)/i,
                /(\d*\.?\d+)\s*([a-zA-Z]+)\s*->\s*([a-zA-Z]+)/i,
                /convert\s+(\d*\.?\d+)\s*([a-zA-Z]+)\s+to\s+([a-zA-Z]+)/i
            ];

            for (const pattern of patterns) {
                const match = input.match(pattern);
                if (match) {
                    const [, value, from, to] = match;
                    const category = findUnitCategory(from.toLowerCase()) || findUnitCategory(to.toLowerCase());
                    
                    if (category) {
                        return {
                            value: parseFloat(value),
                            fromUnit: normalizeUnit(from.toLowerCase(), category),
                            toUnit: normalizeUnit(to.toLowerCase(), category),
                            category
                        };
                    }
                }
            }
            return null;
        }

        // Find which category a unit belongs to
        function findUnitCategory(unit) {
            const normalized = normalizeUnit(unit);
            for (const [category, config] of Object.entries(conversions)) {
                if (config.units[normalized]) {
                    return category;
                }
            }
            return null;
        }

        // Normalize unit names
        function normalizeUnit(unit, category = null) {
            const unitMap = {
                // Length
                'meter': 'm', 'meters': 'm', 'metre': 'm', 'metres': 'm',
                'kilometer': 'km', 'kilometers': 'km', 'kilometre': 'km', 'kilometres': 'km',
                'centimeter': 'cm', 'centimeters': 'cm', 'centimetre': 'cm', 'centimetres': 'cm',
                'millimeter': 'mm', 'millimeters': 'mm', 'millimetre': 'mm', 'millimetres': 'mm',
                'inch': 'in', 'inches': 'in',
                'foot': 'ft', 'feet': 'ft',
                'yard': 'yd', 'yards': 'yd',
                'mile': 'mi', 'miles': 'mi',
                
                // Temperature
                'celsius': 'c', 'fahrenheit': 'f', 'kelvin': 'k',
                
                // Mass
                'kilogram': 'kg', 'kilograms': 'kg',
                'gram': 'g', 'grams': 'g',
                'pound': 'lb', 'pounds': 'lb',
                'ounce': 'oz', 'ounces': 'oz',
                
                // Data
                'kilobyte': 'KB', 'kilobytes': 'KB',
                'megabyte': 'MB', 'megabytes': 'MB',
                'gigabyte': 'GB', 'gigabytes': 'GB',
                'terabyte': 'TB', 'terabytes': 'TB'
            };

            return unitMap[unit.toLowerCase()] || unit.toLowerCase();
        }

        // Convert value between units
        function convertValue(value, fromUnit, toUnit, category) {
            const config = conversions[category];
            if (!config || !config.units[fromUnit] || !config.units[toUnit]) {
                return null;
            }

            if (category === 'temperature') {
                return config.convert(value, fromUnit, toUnit);
            } else {
                const fromFactor = config.units[fromUnit].factor;
                const toFactor = config.units[toUnit].factor;
                return value * fromFactor / toFactor;
            }
        }

        // Add to history
        function addToHistory(conversion) {
            history.unshift({
                conversion,
                timestamp: new Date()
            });
            
            // Keep only last 10 items
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            updateHistoryDisplay();
        }

        // Update history display
        function updateHistoryDisplay() {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            history.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'history-item';
                div.innerHTML = `
                    <span>${item.conversion}</span>
                    <span style="color: #666;">${getTimeAgo(item.timestamp)}</span>
                `;
                div.addEventListener('click', () => {
                    // Could implement restoration of conversion
                    console.log('Clicked history item:', item);
                });
                historyList.appendChild(div);
            });
        }

        // Get time ago string
        function getTimeAgo(date) {
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / 60000);
            
            if (diffMins < 1) return 'just now';
            if (diffMins < 60) return `${diffMins} min ago`;
            
            const diffHours = Math.floor(diffMins / 60);
            if (diffHours < 24) return `${diffHours} hr ago`;
            
            const diffDays = Math.floor(diffHours / 24);
            return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
        }

        // Populate units for search
        function populateUnits() {
            // This could be used for autocomplete functionality
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>

</html>
